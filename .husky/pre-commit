#!/usr/bin/env sh

echo "ğŸ§¹ Running pre-commit checks..."
echo "ğŸ“ Current working directory: $(pwd)"
echo "-----------------------------"

# Type Check
echo "ğŸ” Running TypeScript type check..."
if pnpm run type-check; then
  echo "âœ… Type check passed!"
else
  echo "âŒ Type check failed. Please fix the type errors."
  exit 1
fi

# Lint
echo "-----------------------------"
echo "ğŸ§  Running linter..."
if pnpm run lint; then
  echo "âœ… Lint passed!"
else
  echo "âŒ Lint failed. Please fix lint errors."
  exit 1
fi

# Format
echo "-----------------------------"
echo "ğŸ¨ Checking code formatting..."
if pnpm run format; then
  echo "âœ… Format passed!"
else
  echo "âŒ Format issues found. Please format your code."
  exit 1
fi

echo "-----------------------------"
echo "ğŸ‰ All pre-commit checks passed. You're good to go!"
